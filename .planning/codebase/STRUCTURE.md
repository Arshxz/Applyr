# Codebase Structure

**Analysis Date:** 2026-01-12

## Directory Layout

```
Applyr/
├── app/                    # Next.js App Router
│   ├── api/               # API route handlers
│   │   ├── auth/         # Auth0 integration
│   │   ├── applications/ # Job applications CRUD
│   │   ├── jobs/         # Job listings with caching
│   │   └── profile/      # User profile and resume
│   ├── dashboard/        # Authenticated pages
│   │   ├── applications/ # User's applications list
│   │   ├── jobs/         # Browse jobs page
│   │   └── profile/      # Profile editor
│   ├── globals.css       # Global styles
│   ├── layout.tsx        # Root layout with providers
│   └── page.tsx          # Landing page
├── components/            # Reusable React components
├── lib/                  # Utility modules
├── prisma/               # Database schema
├── public/               # Static assets
└── .planning/            # GSD planning files
```

## Directory Purposes

**app/**
- Purpose: Next.js App Router pages and API routes
- Contains: `.tsx` pages, `route.ts` API handlers
- Key files: `layout.tsx` (root), `page.tsx` (landing)
- Subdirectories: `api/` for backend, `dashboard/` for authenticated UI

**app/api/**
- Purpose: Backend API endpoints
- Contains: REST route handlers
- Key files: `jobs/route.ts`, `applications/route.ts`, `profile/route.ts`
- Pattern: Each folder = endpoint path, `route.ts` = handlers

**app/dashboard/**
- Purpose: Authenticated user pages
- Contains: Server components with Prisma queries
- Key files: `page.tsx` (home), `jobs/page.tsx`, `applications/page.tsx`, `profile/page.tsx`

**components/**
- Purpose: Reusable React components
- Contains: Client components with hooks
- Key files: `Header.tsx` (48 lines), `JobsList.tsx` (155 lines)

**lib/**
- Purpose: Shared utilities and client singletons
- Contains: TypeScript modules
- Key files: `auth.ts` (18 lines), `prisma.ts` (9 lines), `redis.ts` (22 lines)

**prisma/**
- Purpose: Database schema and migrations
- Contains: Prisma schema file
- Key files: `schema.prisma` (111 lines)

## Key File Locations

**Entry Points:**
- `app/layout.tsx` - Root layout, Auth0 provider
- `app/page.tsx` - Landing page for unauthenticated users
- `app/dashboard/page.tsx` - Dashboard home for authenticated users

**Configuration:**
- `tsconfig.json` - TypeScript config with `@/*` alias
- `next.config.js` - Next.js config (React strict mode)
- `tailwind.config.ts` - Tailwind theme customization
- `.eslintrc.json` - ESLint extends `next/core-web-vitals`

**Core Logic:**
- `app/api/jobs/route.ts` - Job listing with Redis caching
- `app/api/applications/route.ts` - Application submission
- `app/api/profile/route.ts` - Profile CRUD with resume handling
- `lib/auth.ts` - Auth helper functions

**Database:**
- `prisma/schema.prisma` - All models and relations

## Naming Conventions

**Files:**
- `page.tsx` - Next.js page components
- `route.ts` - Next.js API route handlers
- `PascalCase.tsx` - React components (`Header.tsx`, `JobsList.tsx`)
- `kebab-case.ts` - Utility modules (`prisma.ts`, `redis.ts`)

**Directories:**
- kebab-case for all directories
- `[...param]` for catch-all routes (`[...auth0]`)

**Special Patterns:**
- `route.ts` exports HTTP verb functions (`GET`, `POST`, `PUT`)
- `page.tsx` exports default async function for Server Components

## Where to Add New Code

**New API Endpoint:**
- Implementation: `app/api/{resource}/route.ts`
- Pattern: Export `GET`, `POST`, etc. with auth check

**New Dashboard Page:**
- Implementation: `app/dashboard/{feature}/page.tsx`
- Pattern: Server Component with `getSession()` check

**New Reusable Component:**
- Implementation: `components/{Name}.tsx`
- Pattern: PascalCase, `"use client"` if using hooks

**New Utility Function:**
- Implementation: `lib/{name}.ts`
- Pattern: Named exports, singleton pattern for clients

**New Database Model:**
- Implementation: Add to `prisma/schema.prisma`
- Then run: `npm run db:generate` and `npm run db:push`

## Special Directories

**.next/**
- Purpose: Next.js build output
- Source: Auto-generated by build
- Committed: No (gitignored)

**node_modules/**
- Purpose: npm dependencies
- Source: `npm install`
- Committed: No (gitignored)

**.planning/**
- Purpose: GSD project planning files
- Source: Created by `/gsd:*` commands
- Committed: Yes

---

*Structure analysis: 2026-01-12*
*Update when directory structure changes*
